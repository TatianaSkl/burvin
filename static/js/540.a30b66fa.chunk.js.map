{"version":3,"file":"static/js/540.a30b66fa.chunk.js","mappings":"yPAYe,SAASA,IACtB,MAAOC,EAAYC,IAAiBC,EAAAA,EAAAA,UAAS,CAAEC,KAAM,KAAMC,MAAO,CAAC,IAC7DC,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,IAAYC,EAAAA,IACxBC,GAASF,EAAAA,EAAAA,IAAYG,EAAAA,IACrBC,GAAWJ,EAAAA,EAAAA,IAAYK,EAAAA,IACvBC,GAAON,EAAAA,EAAAA,IAAYO,EAAAA,IAEnBC,EAAaC,EAAAA,IAEnBC,EAAAA,EAAAA,YAAU,KACRb,GAASc,EAAAA,EAAAA,MAAc,GACtB,CAACd,IAEJ,MAAMe,EACU,UAAdN,EAAKO,KACDT,EACAA,EAASF,QAAOY,GAAWA,EAAQC,SAAWP,EAAWO,SAEzDC,EACU,UAAdV,EAAKO,KAAmBX,EAASA,EAAOA,QAAOY,GAAWA,EAAQC,SAAWP,EAAWO,SAEpFE,EAAiBL,EAAgBM,QAAQC,MAAK,CAACC,EAAGC,KACtD,MAAMC,EAAWC,SAASH,EAAEI,QAAQC,QAAQ,MAAO,IAAIC,UAAU,EAAG,IAEpE,OADiBH,SAASF,EAAEG,QAAQC,QAAQ,MAAO,IAAIC,UAAU,EAAG,IAClDJ,CAAQ,IAGtBK,EAAuBX,EAAUE,QAAQC,MAAK,CAACC,EAAGC,KACtD,MAAMC,EAAWC,SAASH,EAAEI,QAAQC,QAAQ,MAAO,IAAIC,UAAU,EAAG,IAEpE,OADiBH,SAASF,EAAEG,QAAQC,QAAQ,MAAO,IAAIC,UAAU,EAAG,IAClDJ,CAAQ,IAa5B,OACEM,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAC,SAAA,EACEF,EAAAA,EAAAA,MAACG,EAAAA,GAAS,CAAAD,SAAA,EACRE,EAAAA,EAAAA,KAACC,EAAAA,GAAM,KACPD,EAAAA,EAAAA,KAAA,OAAKE,MAAO,CAAEC,QAAS,OAAQC,eAAgB,UAAWN,SACzC,UAAdxB,EAAKO,OACJmB,EAAAA,EAAAA,KAACK,EAAAA,EAAM,CAACC,QAASA,IAhBT,SAAC3C,GAAsB,IAAhBC,EAAK2C,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,CAAC,EAChCG,SAASC,KAAKT,MAAMU,SAAW,SAC/BnD,EAAc,CAAEE,OAAMC,SACxB,CAaiCiD,CAAU,UAAW,CAAC,GAAGf,UAC9CE,EAAAA,EAAAA,KAACc,EAAAA,IAAU,SAIjBd,EAAAA,EAAAA,KAACe,EAAAA,GAAY,CAAC3C,SAAUL,EAAY4B,EAAuBV,IAC1DlB,GAAgC,KAAb,OAANG,QAAM,IAANA,OAAM,EAANA,EAAQsC,UAAgBR,EAAAA,EAAAA,KAACgB,EAAAA,EAAK,CAAAlB,SAAErB,EAAAA,QAE/CjB,EAAWG,OACVqC,EAAAA,EAAAA,KAACiB,EAAAA,EAAK,CAACtD,KAAMH,EAAWG,KAAMC,MAAOJ,EAAWI,MAAOsD,QApB1CC,KACjBT,SAASC,KAAKT,MAAMU,SAAW,OAC/BnD,EAAc,CAAEE,KAAM,KAAMC,MAAO,CAAC,GAAI,MAsB5C,C,sECzEO,MAAMwD,EAAUC,EAAAA,EAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,wJASpBnB,EAASgB,EAAAA,EAAOI,OAAMC,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,iKAItB5D,GAASA,EAAM+D,MAAMC,OAAOC,O,kDCblC,MAAMb,E,QAAQK,EAAOS,EAACP,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,gG","sources":["pages/Collections/Collections.jsx","pages/Collections/Collections.styled.jsx","pages/Favorites/Favorites.styled.jsx"],"sourcesContent":["import { useDispatch, useSelector } from 'react-redux';\nimport { filtredProducts, selectIsFiltred, selectProducts } from 'redux/selectors';\nimport { ProductsList, Container, Filter } from 'components';\nimport { Empty } from 'pages/Favorites/Favorites.styled';\nimport { useEffect, useState } from 'react';\nimport { allProducts } from 'redux/products/operations';\nimport { FiFilePlus } from 'react-icons/fi';\nimport { Button } from './Collections.styled';\nimport { selectUser } from 'redux/auth/selectors';\nimport { Modal } from 'components/Modal/Modal';\nimport data from 'bd/data.json';\n\nexport default function Collections() {\n  const [modalState, setModalState] = useState({ type: null, props: {} });\n  const dispatch = useDispatch();\n  const isFiltred = useSelector(selectIsFiltred);\n  const filter = useSelector(filtredProducts);\n  const products = useSelector(selectProducts);\n  const user = useSelector(selectUser);\n\n  const collection = data.collectionThree;\n\n  useEffect(() => {\n    dispatch(allProducts());\n  }, [dispatch]);\n\n  const visibleProducts =\n    user.role === 'admin'\n      ? products\n      : products.filter(product => product.season !== collection.season);\n\n  const filterNew =\n    user.role === 'admin' ? filter : filter.filter(product => product.season !== collection.season);\n\n  const sortedProducts = visibleProducts.slice().sort((a, b) => {\n    const articleA = parseInt(a.article.replace(/\\D/g, '').substring(0, 5));\n    const articleB = parseInt(b.article.replace(/\\D/g, '').substring(0, 5));\n    return articleB - articleA;\n  });\n\n  const sortedProductsFilter = filterNew.slice().sort((a, b) => {\n    const articleA = parseInt(a.article.replace(/\\D/g, '').substring(0, 5));\n    const articleB = parseInt(b.article.replace(/\\D/g, '').substring(0, 5));\n    return articleB - articleA;\n  });\n\n  const openModal = (type, props = {}) => {\n    document.body.style.overflow = 'hidden';\n    setModalState({ type, props });\n  };\n\n  const closeModal = () => {\n    document.body.style.overflow = 'auto';\n    setModalState({ type: null, props: {} });\n  };\n\n  return (\n    <>\n      <Container>\n        <Filter />\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\n          {user.role === 'admin' && (\n            <Button onClick={() => openModal('product', {})}>\n              <FiFilePlus />\n            </Button>\n          )}\n        </div>\n        <ProductsList products={isFiltred ? sortedProductsFilter : sortedProducts} />\n        {isFiltred && filter?.length === 0 && <Empty>{data.filterEmpty}</Empty>}\n      </Container>\n      {modalState.type && (\n        <Modal type={modalState.type} props={modalState.props} onClose={closeModal} />\n      )}\n    </>\n  );\n}\n","import styled from '@emotion/styled';\n\nexport const Wrapper = styled.div`\n  background: #f6f6f6;\n  @media (min-width: 768px) {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n  }\n`;\n\nexport const Button = styled.button`\n  & svg {\n    width: 20px;\n    height: 20px;\n    color: ${props => props.theme.colors.black};\n    @media (min-width: 768px) {\n      width: 30px;\n      height: 30px;\n    }\n  }\n`;\n","import styled from '@emotion/styled';\n\nexport const Empty = styled.p`\n  padding-top: 100px;\n  font-size: 24px;\n  font-weight: 800;\n  text-align: center;\n`;\n"],"names":["Collections","modalState","setModalState","useState","type","props","dispatch","useDispatch","isFiltred","useSelector","selectIsFiltred","filter","filtredProducts","products","selectProducts","user","selectUser","collection","data","useEffect","allProducts","visibleProducts","role","product","season","filterNew","sortedProducts","slice","sort","a","b","articleA","parseInt","article","replace","substring","sortedProductsFilter","_jsxs","_Fragment","children","Container","_jsx","Filter","style","display","justifyContent","Button","onClick","arguments","length","undefined","document","body","overflow","openModal","FiFilePlus","ProductsList","Empty","Modal","onClose","closeModal","Wrapper","styled","div","_templateObject","_taggedTemplateLiteral","button","_templateObject2","theme","colors","black","p"],"sourceRoot":""}